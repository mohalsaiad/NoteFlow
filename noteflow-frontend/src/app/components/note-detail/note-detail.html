<div class="note-detail-container">
  <div class="note-form">
    <div class="form-header">
      <h1>{{ isNewNote ? 'Create Note' : 'Edit Note' }}</h1>
      <div class="actions">
        <button (click)="cancel()" class="cancel-button">Cancel</button>
        <button (click)="saveNote()" [disabled]="noteForm.invalid" class="save-button">
          {{ isNewNote ? 'Create' : 'Save' }}
        </button>
        <button *ngIf="!isNewNote" (click)="deleteNote()" class="delete-button">Delete</button>
      </div>
    </div>

    <form [formGroup]="noteForm">
      <div class="form-group">
        <label for="title">Title</label>
        <input 
          id="title" 
          type="text" 
          formControlName="title"
          [class.error]="noteForm.get('title')?.invalid && noteForm.get('title')?.touched">
        <div *ngIf="noteForm.get('title')?.invalid && noteForm.get('title')?.touched" class="error-message">
          Title is required
        </div>
      </div>

      <div class="form-group">
        <label for="body">Content</label>
        <textarea 
          id="body" 
          formControlName="body"
          rows="15"
          [class.error]="noteForm.get('body')?.invalid && noteForm.get('body')?.touched"></textarea>
        <div *ngIf="noteForm.get('body')?.invalid && noteForm.get('body')?.touched" class="error-message">
          Content is required
        </div>
      </div>

      <div class="form-group">
        <label for="tags">Tags (comma-separated)</label>
        <input 
          id="tags" 
          type="text" 
          formControlName="tags"
          placeholder="e.g., work, personal, important">
      </div>
    </form>
  </div>

  <div *ngIf="showDeleteConfirm" class="delete-confirm-overlay">
    <div class="delete-confirm-dialog">
      <h2>Confirm Delete</h2>
      <p>Are you sure you want to delete this note? This action cannot be undone.</p>
      <div class="dialog-actions">
        <button (click)="cancelDelete()" class="cancel-button">Cancel</button>
        <button (click)="confirmDelete()" class="confirm-delete-button">Delete</button>
      </div>
    </div>
  </div>
</div>
